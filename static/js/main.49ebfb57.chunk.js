(this["webpackJsonpcodeleap-teste"]=this["webpackJsonpcodeleap-teste"]||[]).push([[0],{50:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(17),c=n.n(s),i=(n(50),n(8)),o=n(21),l=n.n(o),u=n(22),d=function(){return Object(u.b)()},f=u.c,b=n(15),j={username:""},m=Object(b.c)({name:"auth",initialState:j,reducers:{login:function(e,t){if(!t.payload.username)throw new Error("Empty username cannot be set");e.username=t.payload.username},logout:function(e){e.username=j.username}}});function h(e){return e.auth.username!==j.username}var p=m.actions,x=p.login,v=p.logout,O=m.reducer,g=n(1);function y(){var e=a.a.useState(""),t=Object(i.a)(e,2),n=t[0],r=t[1],s=d();return Object(g.jsx)("div",{className:"min-h-screen flex items-center justify-center py-12 sm:px-4 sm:px-6 lg:px-8",children:Object(g.jsxs)("div",{className:"p-5 max-w-md w-full space-y-8 sm:shadow-lg bg-gray-50 sm:border sm:border-gray-200",children:[Object(g.jsx)("h1",{className:"text-2xl font-extrabold text-gray-900",children:"Welcome to CodeLeap network!"}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(x({username:n.trim()}))},children:[Object(g.jsx)("label",{htmlFor:"username",children:"Please enter your username"}),Object(g.jsx)("input",{id:"username",type:"text",maxLength:16,placeholder:"John Doe",className:"mt-3 appearance-none rounded-sm relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",value:n,onChange:function(e){return r(e.target.value)},required:!0}),Object(g.jsx)("input",{type:"submit",value:"ENTER",className:l()("float-right mt-3 px-8 py-2 bg-black text-white font-bold cursor-pointer transition",{"bg-gray-600":!n.trim()})})]})]})})}var w=n(32),N=n(4),C=n.n(N),k=n(12),F=n(41),E=n.n(F).a.create({baseURL:"https://cors-anywhere.herokuapp.com/http://dev.codeleap.co.uk/careers/"});function D(e){return I.apply(this,arguments)}function I(){return(I=Object(k.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,r=t.offset,e.abrupt("return",E.get("/?limit=".concat(n,"&offset=").concat(r)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return S.apply(this,arguments)}function S(){return(S=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.post("/",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return A.apply(this,arguments)}function A(){return(A=Object(k.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.patch("/".concat(t,"/"),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return M.apply(this,arguments)}function M(){return(M=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.delete("/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R={status:"IDLE",error:void 0,next:{limit:10,offset:0},posts:[]},B=Object(b.b)("feed/load",function(){var e=Object(k.a)(C.a.mark((function e(t,n){var r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.getState()).feed.next){e.next=3;break}return e.abrupt("return",{next:null,results:[],count:0,previous:null});case 3:return e.next=5,D(r.feed.next);case 5:return a=e.sent,e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),G=Object(b.b)("posts/create",function(){var e=Object(k.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(b.b)("posts/edit",function(){var e=Object(k.a)(C.a.mark((function e(t){var n,r,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.data,e.next=3,z(n,r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=Object(b.b)("posts/delete",function(){var e=Object(k.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_=Object(b.c)({name:"feed",initialState:R,reducers:{},extraReducers:function(e){e.addCase(B.pending,(function(e){e.status="LOADING"})).addCase(B.fulfilled,(function(e,t){var n;e.status="SUCCEEDED";var r=t.payload,a=r.next,s=r.results;if((n=e.posts).push.apply(n,Object(w.a)(s)),a)try{var c,i,o,l,u=new URL(a).searchParams;e.next={limit:null!==(c=parseInt(null!==(i=u.get("limit"))&&void 0!==i?i:"0"))&&void 0!==c?c:0,offset:null!==(o=parseInt(null!==(l=u.get("offset"))&&void 0!==l?l:"0"))&&void 0!==o?o:0}}catch(d){e.status="FAILED",e.error=String(d)}else e.next=void 0})).addCase(B.rejected,(function(e,t){e.status="FAILED",e.error=t.error.message})).addCase(G.pending,(function(e){e.status="LOADING"})).addCase(G.fulfilled,(function(e,t){e.status="SUCCEEDED",e.posts.length>10?e.posts=[t.payload].concat(Object(w.a)(e.posts)):e.posts.push(t.payload)})).addCase(G.rejected,(function(e,t){e.status="FAILED",e.error=t.error.message})).addCase(U.pending,(function(e){e.status="LOADING"})).addCase(U.fulfilled,(function(e,t){e.status="SUCCEEDED",e.posts=e.posts.map((function(e){return e.id===t.payload.id?t.payload:e}))})).addCase(U.rejected,(function(e,t){e.status="FAILED",e.error=t.error.message})).addCase(P.pending,(function(e){e.status="LOADING"})).addCase(P.fulfilled,(function(e,t){e.status="SUCCEEDED",e.posts=e.posts.filter((function(e){return e.id!==t.meta.arg}))})).addCase(P.rejected,(function(e,t){e.status="FAILED",e.error=t.error.message}))}}).reducer,V=n(23),q=n(18),H=n(42),J=n.n(H);function W(e){var t=e.title,n=e.content,r=e.setTitle,a=e.setContent;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"mt-6",children:[Object(g.jsx)("label",{htmlFor:"title",children:"Title"}),Object(g.jsx)("input",{id:"title",type:"text",placeholder:"Hello world",value:t,onChange:function(e){return r(e.target.value)},className:"mt-1 appearance-none rounded-sm relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 focus:z-10 sm:text-sm",maxLength:64,required:!0})]}),Object(g.jsxs)("div",{className:"my-3",children:[Object(g.jsx)("label",{htmlFor:"content",children:"Content"}),Object(g.jsx)("textarea",{id:"content",placeholder:"Content Here",value:n,onChange:function(e){return a(e.target.value)},className:"mt-1 appearance-none rounded-sm relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 focus:z-10 sm:text-sm resize-none",maxLength:512,required:!0})]})]})}function K(e){var t=e.dismiss,n=Object(q.a)(e,["dismiss"]),r=a.a.useState(""),s=Object(i.a)(r,2),c=s[0],o=s[1],l=a.a.useState(""),u=Object(i.a)(l,2),f=u[0],b=u[1],j=d();function m(){o(n.title),b(n.content)}return a.a.useEffect(m,[n.title,n.content]),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(U({id:n.id,data:{title:c,content:f}})).then(m),t()},children:[Object(g.jsx)(W,{title:c,setTitle:o,content:f,setContent:b}),Object(g.jsxs)("section",{className:"mt-4 flex justify-end",children:[Object(g.jsx)("button",{className:"text-black border border-black px-3 w-24",onClick:function(){m(),t()},children:"Cancel"}),Object(g.jsx)("input",{type:"submit",value:"SAVE",className:"text-white bg-black border border-black px-3 ml-3 w-24 cursor-pointer"})]})]})}var X=n(77),Q=n(76);function Y(e){var t=e.visible,n=e.setVisible,r=e.title,s=e.children;return Object(g.jsx)(X.a,{appear:!0,show:t,as:a.a.Fragment,children:Object(g.jsx)(Q.a,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:function(){return n(!1)},children:Object(g.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[Object(g.jsx)(X.a.Child,{as:a.a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(g.jsx)(Q.a.Overlay,{className:"fixed inset-0",style:{background:"rgba(0, 0, 0, .8)"}})}),Object(g.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(g.jsx)(X.a.Child,{as:a.a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(g.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl",children:[Object(g.jsx)(Q.a.Title,{as:"h3",className:"text-lg font-medium",children:r}),s]})})]})})})}function Z(e){var t=e.dismiss,n=Object(q.a)(e,["dismiss"]),r=d();return Object(g.jsxs)("section",{className:"mt-4 flex justify-end",children:[Object(g.jsx)("button",{className:"text-black border border-black px-3 w-24",onClick:t,children:"Cancel"}),Object(g.jsx)("button",{className:"text-white bg-black border border-black px-3 ml-3 w-24",onClick:function(){r(P(n.id)),t()},children:"OK"})]})}function $(e){var t=e.style,n=Object(q.a)(e,["style"]),r=n.username,s=n.created_datetime,c=n.title,o=n.content,l=r===f((function(e){return e.auth.username})),u=a.a.useMemo((function(){return J()(+new Date(s)-Date.now(),{largest:1,units:["w","d","h","m","s"]})}),[s]),d=a.a.useState(!1),b=Object(i.a)(d,2),j=b[0],m=b[1],h=a.a.useState(!1),p=Object(i.a)(h,2),x=p[0],v=p[1];return Object(g.jsx)("article",{className:"py-2",style:t,children:Object(g.jsxs)("section",{className:"border border-gray-200 h-full flex flex-col",children:[Object(g.jsxs)("header",{className:"bg-black text-white px-4 py-2 flex justify-between",children:[Object(g.jsx)("h1",{className:"font-bold capitalize",children:c}),l&&Object(g.jsxs)("section",{children:[j&&Object(g.jsx)(Y,{visible:j,setVisible:m,title:"Are you sure you want to delete this item?",children:Object(g.jsx)(Z,Object(V.a)(Object(V.a)({},n),{},{dismiss:function(){return m(!1)}}))}),x&&Object(g.jsx)(Y,{visible:x,setVisible:v,title:"Edit Item",children:Object(g.jsx)(K,Object(V.a)(Object(V.a)({},n),{},{dismiss:function(){return v(!1)}}))}),Object(g.jsx)("button",{className:"inline-block mr-4 cursor-pointer",onClick:function(){return m(!0)},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(g.jsx)("path",{fill:"#FFFFFF",d:"M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z"})})}),Object(g.jsx)("button",{className:"inline-block cursor-pointer",onClick:function(){return v(!0)},children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(g.jsx)("path",{fill:"#FFFFFF",d:"M18 13.45l2-2.023v4.573h-2v-2.55zm-11-5.45h1.743l1.978-2h-3.721v2zm1.361 3.216l11.103-11.216 4.536 4.534-11.102 11.218-5.898 1.248 1.361-5.784zm1.306 3.176l2.23-.472 9.281-9.378-1.707-1.707-9.293 9.388-.511 2.169zm3.333 7.608v-2h-6v2h6zm-8-2h-3v-2h-2v4h5v-2zm13-2v2h-3v2h5v-4h-2zm-18-2h2v-4h-2v4zm2-6v-2h3v-2h-5v4h2z"})})})]})]}),Object(g.jsxs)("section",{className:"flex justify-between px-4 py-1 text-gray-500",children:[Object(g.jsxs)("address",{className:"not-italic",children:["@",r]}),Object(g.jsxs)("time",{dateTime:s,children:[u," ago"]})]}),Object(g.jsx)("section",{className:"px-4 py-1 overflow-ellipsis overflow-hidden flex-grow",children:o})]})})}var ee=n(43),te=n(44);function ne(e){var t=e.hasMore,n=e.isLoadingMore,r=e.items,s=e.loadMore,c=e.renderItem,o=t?r.length+1:r.length,l=a.a.useRef(null),u=a.a.useState(128),d=Object(i.a)(u,2),f=d[0],b=d[1];return a.a.useEffect((function(){var e=setInterval((function(){var e;b((null===(e=l.current)||void 0===e?void 0:e.offsetHeight)||f)}),1e3);return function(){return clearInterval(e)}}),[f]),Object(g.jsx)("section",{className:"flex-grow",ref:l,children:Object(g.jsx)(ee.a,{isItemLoaded:function(e){return!t||e<r.length},loadMoreItems:n?function(){}:s,itemCount:o,threshold:20,children:function(e){var t=e.onItemsRendered,n=e.ref;return Object(g.jsx)(te.a,{itemSize:191,height:f,width:"100%",itemCount:o,onItemsRendered:t,ref:n,children:function(e){var t=e.index,n=e.style;return!!r[t]&&c(r[t],n)}})}})})}function re(){var e=f((function(e){return e.feed})),t=e.posts,n=e.next,r=e.status,a=d();return Object(g.jsx)(ne,{hasMore:!!n,isLoadingMore:"LOADING"===r,items:t,loadMore:function(){return a(B())},renderItem:function(e,t){return Object(g.jsx)($,{id:e.id,created_datetime:e.created_datetime,username:e.username,title:e.title,content:e.content,style:t},e.id)}})}var ae=n(78);function se(){var e=f((function(e){return e.auth})).username,t=f((function(e){return e.feed})).status,n=d(),r=a.a.useState(""),s=Object(i.a)(r,2),c=s[0],o=s[1],u=a.a.useState(""),b=Object(i.a)(u,2),j=b[0],m=b[1],h=a.a.useState(!0),p=Object(i.a)(h,2),x=p[0],v=p[1],O=a.a.useState(!0),y=Object(i.a)(O,2),w=y[0],N=y[1];return a.a.useEffect((function(){!x&&w&&"LOADING"===t&&(N(!1),v(!0))}),[w,t,x]),a.a.useEffect((function(){var e=setInterval((function(){return v(!1)}),2e3);return function(){return clearInterval(e)}}),[x]),Object(g.jsx)("section",{className:"border border-gray mr-4 mb-3",children:Object(g.jsxs)(ae.a,{children:[Object(g.jsxs)(ae.a.Button,{className:"flex justify-between w-full cursor-default",children:[Object(g.jsxs)("h2",{className:"font-bold text-lg pl-3",children:["Whats on your mind, ",e,"?"]}),Object(g.jsx)("div",{className:"flex flex-col justify-center pr-3 cursor-pointer",onClick:function(){return N(!w)},children:Object(g.jsx)("span",{className:l()("w-5 h-5 transition-all duration-300",{"transform rotate-180":w}),children:Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 330 330",children:Object(g.jsx)("path",{id:"XMLID_225_",d:"M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"})})})})]}),Object(g.jsx)(ae.a.Panel,{static:!0,children:w&&Object(g.jsxs)("form",{className:"p-3",onSubmit:function(t){t.preventDefault(),c.trim()&&j.trim()&&(n(G({title:c.trim(),content:j.trim(),username:e})),o(""),m(""))},children:[Object(g.jsx)(W,{title:c,setTitle:o,content:j,setContent:m}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)("input",{type:"submit",value:"CREATE",className:l()("mt-3 px-8 py-2 bg-black text-white font-bold text-sm cursor-pointer transition",{"bg-gray-800":!c.trim()||!j.trim()})})})]})})]})})}function ce(){var e=d();return Object(g.jsx)("div",{className:"flex justify-center h-screen",children:Object(g.jsxs)("div",{className:"h-100 w-full sm:w-3/5 md:w-3/6 bg-white flex flex-col",children:[Object(g.jsxs)("header",{className:"text-white bg-black p-3 flex justify-between flex-grow-0 flex-shrink-0",children:[Object(g.jsx)("h1",{className:"font-bold text-lg",children:"CodeLeap Network"}),Object(g.jsx)("button",{onClick:function(){return e(v())},children:"Logout"})]}),Object(g.jsxs)("main",{className:"flex-grow flex-shrink overflow-y-auto px-2 flex flex-col pt-3",children:[Object(g.jsx)(se,{}),Object(g.jsx)(re,{})]})]})})}var ie=function(){return f(h)?Object(g.jsx)(ce,{}):Object(g.jsx)(y,{})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},le=Object(b.a)({reducer:{auth:O,feed:_}});c.a.render(Object(g.jsx)(u.a,{store:le,children:Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(ie,{})})}),document.getElementById("root")),oe()}},[[75,1,2]]]);
//# sourceMappingURL=main.49ebfb57.chunk.js.map